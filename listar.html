<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Conteúdo</title>

    <!-- Bootstrap core CSS -->
    <link href="node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/full-slider.css" rel="stylesheet">

</head>

<body class="bg-light">

    <!-- Navigation -->

    <nav class="navbar navbar-expand-lg navbar-dark bg-purple fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img class="navbar-logo" src="img/logo.png">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Contato</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Cadastrar criança</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Área do avaliador</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Sair</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    <!-- Page Content -->
    <section class="py-5">
        <div class="container">

            <div id="criancas" class="card bg-white">

                <div class="card-crianca bg-white align-middle">
                    <img class="img-thumbnail" src="img/avatares-02.png">
                    <p>Nome</p>
                    <span>Idade</span>
                    <button class="btn bg-primary">VISUALIZAR</button>
                </div>

            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="relative-bottom py-5 bg-purple">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; Space Kids 2018</p>
        </div>
        <!-- /.container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function () {



            function listaCriancas(dados) {
                var template = "";
                // console.log(dados);
                for (let i = 0; i < dados.length; i++) {
                    template += '<div class="card card-crianca bg-white align-middle">' +
                        '<img class="img-thumbnail" src="img/avatares-02.png">' +
                        '<p>' + dados[i].nome + '</p>' +
                        '<span>' + dados[i].idade + '</span>' +
                        '<button class="btn bg-primary btn-visualizar" id="' + dados[i].criancaId + '">VISUALIZAR</button>' +
                        '</div>';
                }

                $("#criancas").html(template);

            }

            //LISTAR OS FILHOS
            var url = 'http://spacekids-001-site1.dtempurl.com/api';

            $.ajax({
                contentType: "application/json",
                
                url: url + '/crianca/listar',
                method: 'get',
                // data: objPai,
                crossDomain: true,
                success: function (retorno) {
                    listaCriancas(retorno);

                },
                error: function (erro) {
                    console.log('erro ao listar as criancas: ' + erro);
                }
            })




            //VISUALIZAR O FILHO
            $('.btn-visualizar').live('click', function(){
                console.log('funfou');
            });

        })
    </script>

</body>

</html>